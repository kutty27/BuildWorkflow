name: Reusable steps and jobs
on:
  workflow_dispatch

jobs:
  Compile:
    runs-on: ubuntu-latest
    steps:
    - name: Set up JDK 17
      uses: actions/setup-java@v2
      with:
        distribution: 'adopt'
        java-version: '17'

    - name: Check out code
      uses: actions/checkout@v2

    - name: Compile java files
      run: javac *.java

  Run:
    runs-on: ubuntu-latest
    needs: Compile
    steps:
      - name: Run java file
        run: java Main
